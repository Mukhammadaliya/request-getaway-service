{
  "__inputs": [
    {
      "name": "DS_PROMETHEUS",
      "label": "Prometheus",
      "type": "datasource",
      "pluginId": "prometheus"
    }
  ],
  "editable": true,
  "graphTooltip": 1,
  "panels": [

    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 0 },
      "id": 100,
      "panels": [],
      "title": "üìä Redis Overview",
      "type": "row"
    },

    {
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "fieldConfig": {
        "defaults": {
          "thresholds": {
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 50 },
              { "color": "red", "value": 100 }
            ]
          }
        }
      },
      "gridPos": { "h": 4, "w": 4, "x": 0, "y": 1 },
      "id": 1,
      "title": "Uptime (hours)",
      "type": "stat",
      "options": { "colorMode": "background", "reduceOptions": { "calcs": ["lastNotNull"] } },
      "targets": [
        { "expr": "redis_uptime_in_seconds / 3600", "legendFormat": "Hours" }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "fieldConfig": {
        "defaults": {
          "unit": "short",
          "thresholds": {
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 20 },
              { "color": "red", "value": 50 }
            ]
          }
        }
      },
      "gridPos": { "h": 4, "w": 4, "x": 4, "y": 1 },
      "id": 2,
      "title": "Connected Clients",
      "type": "stat",
      "options": { "colorMode": "background", "reduceOptions": { "calcs": ["lastNotNull"] } },
      "targets": [
        { "expr": "redis_connected_clients", "legendFormat": "Clients" }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "fieldConfig": {
        "defaults": {
          "unit": "bytes",
          "thresholds": {
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 134217728 },
              { "color": "red", "value": 234881024 }
            ]
          }
        }
      },
      "gridPos": { "h": 4, "w": 4, "x": 8, "y": 1 },
      "id": 3,
      "title": "Memory Used",
      "type": "stat",
      "options": { "colorMode": "background", "reduceOptions": { "calcs": ["lastNotNull"] } },
      "targets": [
        { "expr": "redis_memory_used_bytes", "legendFormat": "Used" }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "fieldConfig": {
        "defaults": {
          "unit": "short",
          "thresholds": {
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 10000 },
              { "color": "red", "value": 50000 }
            ]
          }
        }
      },
      "gridPos": { "h": 4, "w": 4, "x": 12, "y": 1 },
      "id": 4,
      "title": "Total Keys",
      "type": "stat",
      "options": { "colorMode": "background", "reduceOptions": { "calcs": ["lastNotNull"] } },
      "targets": [
        { "expr": "sum(redis_db_keys)", "legendFormat": "Keys" }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "fieldConfig": {
        "defaults": {
          "unit": "ops",
          "thresholds": {
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 5000 },
              { "color": "red", "value": 10000 }
            ]
          }
        }
      },
      "gridPos": { "h": 4, "w": 4, "x": 16, "y": 1 },
      "id": 5,
      "title": "Commands/sec",
      "type": "stat",
      "options": { "colorMode": "background", "reduceOptions": { "calcs": ["lastNotNull"] } },
      "targets": [
        { "expr": "rate(redis_commands_processed_total[1m])", "legendFormat": "ops/sec" }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "fieldConfig": {
        "defaults": {
          "unit": "percentunit",
          "thresholds": {
            "steps": [
              { "color": "red", "value": null },
              { "color": "yellow", "value": 0.8 },
              { "color": "green", "value": 0.95 }
            ]
          }
        }
      },
      "gridPos": { "h": 4, "w": 4, "x": 20, "y": 1 },
      "id": 6,
      "title": "Hit Rate",
      "type": "stat",
      "options": { "colorMode": "background", "reduceOptions": { "calcs": ["lastNotNull"] } },
      "targets": [
        {
          "expr": "redis_keyspace_hits_total / (redis_keyspace_hits_total + redis_keyspace_misses_total + 0.001)",
          "legendFormat": "Hit %"
        }
      ]
    },

    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 5 },
      "id": 101,
      "panels": [],
      "title": "üìà Memory & Performance",
      "type": "row"
    },

    {
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": { "drawStyle": "line", "fillOpacity": 20, "lineWidth": 2 },
          "unit": "bytes"
        }
      },
      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 6 },
      "id": 10,
      "title": "Memory Usage Over Time",
      "type": "timeseries",
      "targets": [
        { "expr": "redis_memory_used_bytes", "legendFormat": "Used Memory" },
        { "expr": "redis_memory_max_bytes", "legendFormat": "Max Memory (256MB)" },
        { "expr": "redis_memory_used_rss_bytes", "legendFormat": "RSS Memory" }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": { "drawStyle": "line", "fillOpacity": 15, "lineWidth": 2 },
          "unit": "ops"
        }
      },
      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 6 },
      "id": 11,
      "title": "Commands Per Second",
      "type": "timeseries",
      "targets": [
        { "expr": "rate(redis_commands_processed_total[1m])", "legendFormat": "Total ops/sec" },
        { "expr": "irate(redis_commands_total{cmd=\"get\"}[1m])", "legendFormat": "GET" },
        { "expr": "irate(redis_commands_total{cmd=\"set\"}[1m])", "legendFormat": "SET" },
        { "expr": "irate(redis_commands_total{cmd=\"del\"}[1m])", "legendFormat": "DEL" }
      ]
    },

    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 14 },
      "id": 102,
      "panels": [],
      "title": "üîë Keys & State Management",
      "type": "row"
    },

    {
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": { "drawStyle": "line", "fillOpacity": 15, "lineWidth": 2 },
          "unit": "short"
        }
      },
      "gridPos": { "h": 8, "w": 8, "x": 0, "y": 15 },
      "id": 20,
      "title": "Total Keys Over Time",
      "type": "timeseries",
      "targets": [
        { "expr": "sum(redis_db_keys)", "legendFormat": "Total Keys" },
        { "expr": "sum(redis_db_keys_expiring)", "legendFormat": "Keys with TTL" }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": { "drawStyle": "line", "fillOpacity": 15, "lineWidth": 2 },
          "unit": "short"
        }
      },
      "gridPos": { "h": 8, "w": 8, "x": 8, "y": 15 },
      "id": 21,
      "title": "Hit / Miss Rate",
      "type": "timeseries",
      "targets": [
        { "expr": "irate(redis_keyspace_hits_total[1m])", "legendFormat": "Hits/sec" },
        { "expr": "irate(redis_keyspace_misses_total[1m])", "legendFormat": "Misses/sec" }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": { "drawStyle": "bars", "fillOpacity": 60, "lineWidth": 1 },
          "unit": "short"
        }
      },
      "gridPos": { "h": 8, "w": 8, "x": 16, "y": 15 },
      "id": 22,
      "title": "Expired & Evicted Keys",
      "type": "timeseries",
      "targets": [
        { "expr": "irate(redis_expired_keys_total[1m])", "legendFormat": "Expired/sec" },
        { "expr": "irate(redis_evicted_keys_total[1m])", "legendFormat": "Evicted/sec" }
      ]
    },

    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 23 },
      "id": 103,
      "panels": [],
      "title": "üåê Network & Connections",
      "type": "row"
    },

    {
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": { "drawStyle": "line", "fillOpacity": 15, "lineWidth": 2 },
          "unit": "short"
        }
      },
      "gridPos": { "h": 8, "w": 8, "x": 0, "y": 24 },
      "id": 30,
      "title": "Connected Clients Over Time",
      "type": "timeseries",
      "targets": [
        { "expr": "redis_connected_clients", "legendFormat": "Connected" },
        { "expr": "redis_blocked_clients", "legendFormat": "Blocked" }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": { "drawStyle": "line", "fillOpacity": 15, "lineWidth": 2 },
          "unit": "Bps"
        }
      },
      "gridPos": { "h": 8, "w": 8, "x": 8, "y": 24 },
      "id": 31,
      "title": "Network I/O",
      "type": "timeseries",
      "targets": [
        { "expr": "irate(redis_net_input_bytes_total[1m])", "legendFormat": "Input bytes/sec" },
        { "expr": "irate(redis_net_output_bytes_total[1m])", "legendFormat": "Output bytes/sec" }
      ]
    },
    {
      "datasource": { "type": "prometheus", "uid": "${DS_PROMETHEUS}" },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": { "drawStyle": "line", "fillOpacity": 15, "lineWidth": 2 },
          "unit": "short"
        }
      },
      "gridPos": { "h": 8, "w": 8, "x": 16, "y": 24 },
      "id": 32,
      "title": "Connections Received",
      "type": "timeseries",
      "targets": [
        { "expr": "irate(redis_connections_received_total[1m])", "legendFormat": "New connections/sec" },
        { "expr": "irate(redis_rejected_connections_total[1m])", "legendFormat": "Rejected/sec" }
      ]
    }
  ],

  "refresh": "10s",
  "schemaVersion": 39,
  "tags": ["redis", "gateway", "monitoring"],
  "time": { "from": "now-1h", "to": "now" },
  "title": "Redis Monitoring ‚Äî Request Gateway Service",
  "uid": "redis-gateway-monitoring",
  "version": 1
}